(()=>{var e={56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},57:(e,t,n)=>{n(609),e.exports=class{constructor(e=10){this.size=e,this.grid=Array.from({length:e},(()=>Array(e).fill(null))),this.missedAttacks=[]}isValidCoordinate({row:e,col:t}){return e>=0&&e<this.size&&t>=0&&t<this.size}isPositionAvailable(e){return e.every((({row:e,col:t})=>null===this.grid[e][t]))}placeShip(e,t){if(!t.every((e=>this.isValidCoordinate(e))))throw new Error("Invalid ship placement: Coordinates out of bounds");if(!this.isPositionAvailable(t))throw new Error("Invalid ship placement: Position is occupied");t.forEach((({row:t,col:n})=>{this.grid[t][n]=e}))}receiveAttack({row:e,col:t}){if(!this.isValidCoordinate({row:e,col:t}))throw new Error("Invalid attack: Coordinates out of bounds");const n=this.grid[e][t];if(n){if(n.isHit({row:e,col:t}))throw new Error("Invalid attack: Already hit this position");return n.hit({row:e,col:t}),{hit:!0,row:e,col:t,sunk:n.isSunk()}}return this.missedAttacks.some((n=>n.row===e&&n.col===t))||this.missedAttacks.push({row:e,col:t}),{hit:!1,row:e,col:t}}allShipsSunk(){return this.grid.flat().every((e=>!e||e.isSunk()))}clearBoard(){this.grid=Array.from({length:this.size},(()=>Array(this.size).fill(null))),this.missedAttacks=[]}}},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},s=[],i=0;i<e.length;i++){var l=e[i],c=r.base?l[0]+r.base:l[0],d=a[c]||0,p="".concat(c," ").concat(d);a[c]=d+1;var A=n(p),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==A)t[A].references++,t[A].updater(u);else{var h=o(u,r);r.byIndex=i,t.splice(i,0,{identifier:p,updater:h,references:1})}s.push(p)}return s}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var i=n(a[s]);t[i].references--}for(var l=r(e,o),c=0;c<a.length;c++){var d=n(a[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=l}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},116:e=>{e.exports=class{constructor(e){this.gameController=e}takeTurn(){if(this.gameController.gameEnded)return;const e=this.getAvailableMoves(),t=e[Math.floor(Math.random()*e.length)],n=this.gameController.processAttack(t.row,t.col);if(n&&this.gameController.domController.updateGameStatusMessage(`Computer attacked (${t.row}, ${t.col})`),n.gameEnded){const e="real"===this.gameController.currentPlayer.type?"Player":"Computer";this.gameController.domController.handleGameEnd(e)}else this.gameController.domController.enableBoard()}getAvailableMoves(){const e=this.gameController.opponent.gameboard;let t=[];return e.grid.forEach(((e,n)=>{e.forEach(((e,r)=>{(!e||e&&!e.isHit({row:n,col:r}))&&(this.gameController.opponent.gameboard.missedAttacks.some((e=>e.row===n&&e.col===r))||t.push({row:n,col:r}))}))})),t}}},258:(e,t,n)=>{const r=n(57);e.exports=class{constructor(e){this.type=e,this.gameboard=new r}}},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&s[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},354:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},357:e=>{e.exports=class{constructor(e){this.gameController=e}initialize(){this.displayPlayerBoards(),this.setupButtonListeners(),this.updateGameStatusMessage("Press start to BATTLE!!!")}displayPlayerBoards(){this.renderBoard(this.gameController.player1.gameboard,"player1-board"),this.renderBoard(this.gameController.player2.gameboard,"player2-board"),this.setupBoardListeners("player2-board")}updateGameStatusMessage(e){document.getElementById("game-status").textContent=e}renderBoard(e,t){const n=document.getElementById(t),r="player2-board"===t;n.innerHTML="",e.grid.forEach(((t,o)=>{t.forEach(((t,a)=>{const s=document.createElement("div");s.classList.add("cell"),s.dataset.row=o,s.dataset.col=a,e.missedAttacks.some((e=>e.row===o&&e.col===a))?s.classList.add("miss"):t?t.isSunk()?s.classList.add("sunk"):t.isHit({row:o,col:a})?s.classList.add("hit"):r?s.classList.add("empty"):s.classList.add("ship"):s.classList.add("empty"),n.appendChild(s)}))}))}setupButtonListeners(){document.getElementById("random-btn").addEventListener("click",(()=>{this.gameController.resetBoards(),this.updateGameStatusMessage("Press start to BATTLE!!!"),this.displayPlayerBoards()})),document.getElementById("start-btn").addEventListener("click",(()=>{this.updateGameStatusMessage(""),document.getElementById("player1-board").classList.remove("disabled"),document.getElementById("player2-board").classList.remove("disabled"),document.getElementById("player1-board").classList.add("started"),document.getElementById("player2-board").classList.add("started")}))}setupBoardListeners(e){const t=document.getElementById(e);t.querySelectorAll(".cell").forEach((e=>{const n=parseInt(e.dataset.row,10),r=parseInt(e.dataset.col,10);e.addEventListener("click",(()=>{!t.classList.contains("started")||e.classList.contains("hit")||e.classList.contains("miss")||e.classList.contains("sunk")||this.handleAttack(n,r)}))}))}disableBoard(){document.getElementById("player1-board").classList.add("disabled"),document.getElementById("player2-board").classList.add("disabled")}enableBoard(){document.getElementById("player1-board").classList.remove("disabled"),document.getElementById("player2-board").classList.remove("disabled")}handleGameEnd(e){const t=`${e} WINS!!!`;this.updateGameStatusMessage(t),this.disableBoard()}handleAttack(e,t){const n="real"===this.gameController.currentPlayer.type?"Player":"Computer",r=this.gameController.processAttack(e,t);if(r)if(this.displayPlayerBoards(),r.gameEnded){const e="real"===this.gameController.currentPlayer.type?"Player":"Computer";this.handleGameEnd(e)}else this.updateGameStatusMessage(`${n} attacked (${e}, ${t})`)}}},365:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(354),o=n.n(r),a=n(314),s=n.n(a)()(o());s.push([e.id,"body {\n    background-color: rgb(3, 51, 112);\n}\n\nheader {\n    text-align: center;\n    color: white;\n}\n\nh2{\n    text-align: center;\n    color: white;\n}\n\nmain {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\nbutton {\n    background-color: rgb(255, 255, 255);\n    color: rgb(0, 0, 0);\n    width: 150px;\n    padding: 10px 20px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 16px;\n    margin: 4px 2px;\n    cursor: pointer;\n    border-radius: 12px;\n}\n\n.button-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.board-container {\n    display: flex;            \n    gap: 200px; \n    justify-content: center;           \n}\n\n.board {\n    display: grid;\n    grid-template-columns: repeat(10, 1fr);\n    gap: 2px;\n    width: 300px;\n    height: 300px;\n}\n\n.board.disabled {\n    pointer-events: none;\n}\n\n.cell {\n    width: 30px;\n    height: 30px;\n    border: 1px solid #000000;\n    display: inline-block;\n}\n\n.cell.empty {\n    background-color: rgb(99, 205, 231);\n}\n\n.cell.ship {\n    background-color: rgb(87, 85, 85);\n}\n\n.cell.hit {\n    background-color: red;\n}\n\n.cell.miss {\n    background-color: rgb(255, 255, 255);\n}\n\n.cell.sunk {\n    background-color: black;\n}\n\n#game-status {\n    text-align: center;\n    color: rgb(25, 228, 86);\n    background-color: #000000;\n    border: 2px solid white;\n    border-radius: 12px;\n    width: 300px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 20px;\n}","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;IACI,iCAAiC;AACrC;;AAEA;IACI,kBAAkB;IAClB,YAAY;AAChB;;AAEA;IACI,kBAAkB;IAClB,YAAY;AAChB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,mBAAmB;AACvB;;AAEA;IACI,oCAAoC;IACpC,mBAAmB;IACnB,YAAY;IACZ,kBAAkB;IAClB,kBAAkB;IAClB,qBAAqB;IACrB,qBAAqB;IACrB,eAAe;IACf,eAAe;IACf,eAAe;IACf,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,UAAU;IACV,uBAAuB;AAC3B;;AAEA;IACI,aAAa;IACb,sCAAsC;IACtC,QAAQ;IACR,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,oBAAoB;AACxB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,yBAAyB;IACzB,qBAAqB;AACzB;;AAEA;IACI,mCAAmC;AACvC;;AAEA;IACI,iCAAiC;AACrC;;AAEA;IACI,qBAAqB;AACzB;;AAEA;IACI,oCAAoC;AACxC;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;IACI,kBAAkB;IAClB,uBAAuB;IACvB,yBAAyB;IACzB,uBAAuB;IACvB,mBAAmB;IACnB,YAAY;IACZ,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,gBAAgB;AACpB",sourcesContent:["body {\n    background-color: rgb(3, 51, 112);\n}\n\nheader {\n    text-align: center;\n    color: white;\n}\n\nh2{\n    text-align: center;\n    color: white;\n}\n\nmain {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\nbutton {\n    background-color: rgb(255, 255, 255);\n    color: rgb(0, 0, 0);\n    width: 150px;\n    padding: 10px 20px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 16px;\n    margin: 4px 2px;\n    cursor: pointer;\n    border-radius: 12px;\n}\n\n.button-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.board-container {\n    display: flex;            \n    gap: 200px; \n    justify-content: center;           \n}\n\n.board {\n    display: grid;\n    grid-template-columns: repeat(10, 1fr);\n    gap: 2px;\n    width: 300px;\n    height: 300px;\n}\n\n.board.disabled {\n    pointer-events: none;\n}\n\n.cell {\n    width: 30px;\n    height: 30px;\n    border: 1px solid #000000;\n    display: inline-block;\n}\n\n.cell.empty {\n    background-color: rgb(99, 205, 231);\n}\n\n.cell.ship {\n    background-color: rgb(87, 85, 85);\n}\n\n.cell.hit {\n    background-color: red;\n}\n\n.cell.miss {\n    background-color: rgb(255, 255, 255);\n}\n\n.cell.sunk {\n    background-color: black;\n}\n\n#game-status {\n    text-align: center;\n    color: rgb(25, 228, 86);\n    background-color: #000000;\n    border: 2px solid white;\n    border-radius: 12px;\n    width: 300px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 20px;\n}"],sourceRoot:""}]);const i=s},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},609:e=>{e.exports=class{constructor(e){this.length=e,this.hits=[]}hit(e){this.hits.push(e)}isHit(e){return this.hits.some((t=>t.row===e.row&&t.col===e.col))}isSunk(){return this.hits.length===this.length}}},651:(e,t,n)=>{const r=n(258),o=n(609),a=n(116),s=n(730);e.exports=class{constructor(){this.player1=new r("real"),this.player2=new r("computer"),this.currentPlayer=this.player1,this.opponent=this.player2,this.player1ShipGenerator=new s(this.player1.gameboard),this.player2ShipGenerator=new s(this.player2.gameboard),this.populateBoards(),this.computerController=new a(this)}populateBoards(){[5,4,3,3,2].forEach((e=>{this.player1ShipGenerator.placeShipRandomly(new o(e)),this.player2ShipGenerator.placeShipRandomly(new o(e))}))}resetBoards(){this.player1.gameboard.clearBoard(),this.player2.gameboard.clearBoard(),this.populateBoards(),this.gameEnded=!1}processAttack(e,t){const n=this.opponent.gameboard.receiveAttack({row:e,col:t});return this.opponent.gameboard.allShipsSunk()?{...n,gameEnded:!0,winner:"real"===this.currentPlayer.type?"Player":"Computer"}:(this.swapTurn(),n)}swapTurn(){[this.currentPlayer,this.opponent]=[this.opponent,this.currentPlayer],"computer"===this.currentPlayer.type&&(this.domController.disableBoard(),setTimeout((()=>{this.computerController.takeTurn(),this.domController.displayPlayerBoards(),this.domController.enableBoard()}),750))}}},659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},730:e=>{e.exports=class{constructor(e){this.gameboard=e}getRandomPosition(){return{row:Math.floor(10*Math.random()),col:Math.floor(10*Math.random())}}getRandomDirection(){return Math.random()<.5?"horizontal":"vertical"}getAvailablePositions(e,t){const n=[],r=this.gameboard.size;for(let o=0;o<r;o++)for(let a=0;a<r;a++)this.isValidShipPlacement(e,{row:o,col:a},t)&&n.push({row:o,col:a});return this.shufflePositions(n)}isValidShipPlacement(e,t,n){const{row:r,col:o}=t;if("horizontal"===n&&o+e.length>this.gameboard.size)return!1;if("vertical"===n&&r+e.length>this.gameboard.size)return!1;for(let t=0;t<e.length;t++){const e="vertical"===n?r+t:r,a="horizontal"===n?o+t:o;if(this.gameboard.grid[e][a])return!1}return!0}placeShipOnBoard(e,t,n){const{row:r,col:o}=t;for(let t=0;t<e.length;t++){const a="vertical"===n?r+t:r,s="horizontal"===n?o+t:o;this.gameboard.grid[a][s]=e}}placeShipRandomly(e){const t=this.getRandomDirection();let n=this.getAvailablePositions(e,t);if(0===n.length)throw new Error(`No valid positions found for ship of length ${e.length}`);const r=n[0];this.placeShipOnBoard(e,r,t)}shufflePositions(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{"use strict";var e=n(72),t=n.n(e),r=n(825),o=n.n(r),a=n(659),s=n.n(a),i=n(56),l=n.n(i),c=n(540),d=n.n(c),p=n(113),A=n.n(p),u=n(365),h={};h.styleTagTransform=A(),h.setAttributes=l(),h.insert=s().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=d(),t()(u.A,h),u.A&&u.A.locals&&u.A.locals;const m=n(651),g=n(357);document.addEventListener("DOMContentLoaded",(function(){const e=new m,t=new g(e);e.domController=t,t.initialize()}))})()})();
//# sourceMappingURL=main.js.map